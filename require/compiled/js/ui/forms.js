define(["require","exports","module","jquery"],function(e,t,n){function r(e,t){var n={required:function(){return"Поле является обязательным"},format:function(e){return"Формат для поля : "+e},"default":function(e){return e}};return{name:t,message:n[n[e]?e:"default"].apply(this,Array.prototype.slice.call(arguments,2))}}function i(e,t,n){this.container=e;var r={},o=this;$.each(t,function(e,t){var n=new s(o,e,t);n.element.length&&(r[e]=n)}),typeof n=="function"&&(this.validate=function(){return i.prototype.validate.call(this).concat(n.call(this))}),o.fields=r}function s(e,t,n){this.name=t,this.element=e.container.find("[name="+t+"]");if(!n&&!this.element)return;n.required&&(this.required=!0),$.isFunction(n.init)&&n.init.call(this),$.isFunction(n.get)&&(this.get=n.get),$.isFunction(n.set)&&(this.set=n.set),$.isFunction(n.validate)&&(this.validate=function(){return s.prototype.validate.call(this).concat(n.validate.call(this))})}$=e("jquery"),i.prototype.get=function(){var e={};return $.each(this.fields,function(t,n){e[t]=n.get()}),e},i.prototype.bind=function(e){var t=this;$.each(this.fields,function(e,t){t.set("")}),e&&typeof e=="object"&&$.each(e,function(n,r){t.fields[n]&&t.fields[n].set(e[n])})},i.prototype.validate=function(){var e=[];return $.each(this.fields,function(t,n){e=e.concat(n.validate())}),e},s.prototype.get=function(){return this.element.val()},s.prototype.set=function(e){this.element.val(e)},s.prototype.validate=function(){return this.required&&!this.get()?[new r("required",this.name)]:[]},t.Form=i,t.Error=r})